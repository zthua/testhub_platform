# 数据工厂快速开始指南

## 🎯 5分钟快速上手

### 第一步：访问数据工厂
1. 登录 TestHub 平台
2. 在左侧导航栏找到"数据工厂"菜单
3. 点击进入数据工厂页面

### 第二步：选择工具
在工具分类中选择需要的工具类别：
- **字符工具**（9个）：字符串处理、文本对比、正则测试等
- **编码工具**（12个）：Base64、时间戳、二维码、条形码等
- **随机工具**（10个）：生成随机数据（整数、浮点数、字符串、UUID、MAC地址、IP地址、日期、密码、颜色等）
- **加密工具**（9个）：MD5、SHA、AES、哈希比对、密码强度分析等
- **测试数据**（11个）：生成姓名、手机号、邮箱、身份证号、公司名称、银行卡号、地址等
- **JSON工具**（10个）：JSON格式化、校验、转换、扁平化、路径列表等
- **Crontab工具**（4个）：生成/解析/验证Crontab表达式、获取下次执行时间

### 第三步：输入参数并执行
1. 根据工具要求输入相应的参数
2. 点击"执行"按钮
3. 查看执行结果

### 第四步：添加标签（可选）
1. 在执行结果下方，输入标签（多个标签用逗号分隔）
2. 点击"保存"按钮
3. 保存后的数据可以在接口测试和UI测试中引用

## 💡 常用场景示例

### 场景1：生成测试数据用于接口测试

**目标**：生成测试用户数据，用于接口测试

**步骤**：
1. 选择"测试数据"分类
2. 选择"生成中文姓名"工具
3. 设置性别为"random"，数量为10
4. 点击"执行"
5. 输入标签：`user_data`, `test_data`
6. 点击"保存"

**在接口测试中使用**：
1. 进入接口测试页面
2. 在请求参数中，点击"引用数据工厂"按钮（魔棒图标）
3. 选择标签为`user_data`的数据
4. 数据自动填充到参数中

### 场景2：格式化JSON数据

**目标**：格式化JSON数据，便于查看

**步骤**：
1. 选择"JSON工具"分类
2. 选择"JSON格式化"工具
3. 输入JSON字符串：`{"name":"张三","age":25,"email":"zhangsan@example.com"}`
4. 设置缩进为2
5. 点击"执行"
6. 查看格式化后的JSON（支持展开/折叠）

**特性**：
- 实时预览（300ms防抖）
- 支持展开全部/折叠全部
- 状态自动保存
- 支持左右滚动查看长数据

### 场景3：生成二维码

**目标**：生成二维码用于分享

**步骤**：
1. 选择"编码工具"分类
2. 选择"生成二维码"工具
3. 输入要编码的数据（如URL或文本）
4. 设置图片大小为300
5. 点击"执行"
6. 查看生成的二维码
7. 点击"下载图片"保存

### 场景4：时间戳转换

**目标**：将时间戳转换为可读日期

**步骤**：
1. 选择"编码工具"分类
2. 选择"时间戳转换"工具
3. 输入时间戳：`1704067200`
4. 选择转换类型为"to_datetime"
5. 点击"执行"
6. 查看转换结果：`2024-01-01 00:00:00`

### 场景5：正则表达式测试

**目标**：测试正则表达式是否正确

**步骤**：
1. 选择"字符工具"分类
2. 选择"正则表达式测试"工具
3. 输入正则表达式：`^\d{11}$`
4. 输入测试文本：`13800138000`
5. 点击"执行"
6. 查看匹配结果和捕获组

### 场景6：生成随机身份证号

**目标**：生成符合校验规则的身份证号

**步骤**：
1. 选择"测试数据"分类
2. 选择"生成身份证号"工具
3. 选择地区（可选）
4. 点击"执行"
5. 查看生成的身份证号
6. 输入标签：`id_card_data`
7. 点击"保存"

### 场景7：JSON扁平化

**目标**：将嵌套JSON扁平化，便于查看和查询

**步骤**：
1. 选择"JSON工具"分类
2. 选择"JSON扁平化"工具
3. 输入嵌套JSON：`{"user":{"name":"张三","age":25},"address":{"city":"北京"}}`
4. 点击"执行"
5. 查看扁平化结果：`{"user.name":"张三","user.age":25,"address.city":"北京"}`

### 场景8：生成Crontab表达式

**目标**：生成每天凌晨2点执行的Crontab表达式

**步骤**：
1. 选择"Crontab工具"分类
2. 选择"生成Crontab表达式"工具
3. 选择执行频率：每天
4. 设置时间：02:00
5. 点击"执行"
6. 查看生成的表达式：`0 2 * * *`

## 📊 标签管理技巧

### 标签命名建议
- 按用途分类：`user_data`, `api_data`, `ui_data`
- 按环境分类：`dev_data`, `test_data`, `prod_data`
- 按类型分类：`string_data`, `json_data`, `number_data`
- 按业务分类：`login_data`, `order_data`, `payment_data`

### 标签使用场景
1. **批量生成数据**：使用随机工具批量生成数据，添加统一标签
2. **数据复用**：保存常用数据，添加标签，在多个测试中引用
3. **数据管理**：按标签筛选历史记录，快速查找数据

## 🔗 与其他模块集成

### 接口测试集成

**支持的引用位置**：
- 请求参数
- 请求体
- 断言
- 前置条件

**操作步骤**：
1. 在接口测试页面，找到要引用数据的位置
2. 点击"引用数据工厂"按钮（魔棒图标）
3. 在弹出的选择器中，选择需要的数据
4. 数据自动填充到对应位置

**支持的动态函数占位符**：
- `${random_int(min, max)}` - 生成随机整数
- `${random_string(length)}` - 生成随机字符串
- `${random_phone()}` - 生成随机手机号
- `${random_email()}` - 生成随机邮箱
- `${random_name()}` - 生成随机姓名
- `${timestamp()}` - 生成当前时间戳
- `${uuid()}` - 生成UUID
- `${md5(text)}` - MD5加密
- `${base64(text)}` - Base64编码
- 等等（支持所有60个工具）

### UI测试集成

**支持的引用位置**：
- 测试步骤
- 输入数据
- 断言

**操作步骤**：
1. 在UI测试页面，找到要引用数据的位置
2. 点击"插入"按钮打开变量助手
3. 选择"测试数据"分类
4. 选择需要的工具函数
5. 输入参数并确认
6. 数据自动填充到对应位置

**支持的变量助手**：
- 测试数据：生成姓名、手机号、邮箱、身份证号、公司名称、银行卡号、地址等
- 随机工具：生成整数、浮点数、字符串、UUID、MAC地址、IP地址、日期、密码、颜色等
- 加密工具：MD5、SHA1、SHA256、Base64等
- 时间工具：时间戳、日期时间、日期偏移等
- 字符工具：字符串替换、转义、大小写转换等
- JSON工具：JSON格式化、压缩、校验等

## 🎓 进阶技巧

### 1. 批量操作
- 使用随机工具批量生成数据
- 添加统一标签
- 在测试中引用标签获取数据

### 2. 数据验证
- 使用JSON校验工具验证JSON格式
- 使用正则测试工具验证正则表达式
- 使用字数统计工具分析文本
- 使用哈希比对工具验证数据完整性

### 3. 格式转换
- 使用JSON转XML/YAML进行格式转换
- 使用时间戳转换进行时间格式转换
- 使用进制转换进行数字格式转换
- 使用Unicode转换进行中文编码转换

### 4. 加密解密
- 使用MD5/SHA进行数据校验
- 使用AES进行数据加密传输
- 使用HMAC进行API签名
- 使用密码强度分析工具评估密码安全性

### 5. JSON高级操作
- 使用JSONPath查询工具快速定位数据
- 使用JSON扁平化工具简化嵌套结构
- 使用JSON路径列表工具查看所有数据路径
- 使用JSON对比工具找出数据差异

### 6. Crontab管理
- 使用生成Crontab表达式工具快速创建定时任务
- 使用解析Crontab表达式工具理解复杂表达式
- 使用获取下次执行时间工具预览任务执行计划
- 使用验证Crontab表达式工具确保表达式正确

## ❓ 常见问题

### Q: 生成的数据可以修改吗？
A: 数据工厂保存的是工具执行的结果，不支持修改。如需修改，请重新执行工具并保存新的结果。

### Q: 标签有什么作用？
A: 标签用于分类和管理数据，方便在接口测试和UI测试中快速引用特定类型的数据。

### Q: 如何删除历史记录？
A: 在历史记录列表中，找到要删除的记录，点击"删除"按钮即可。支持批量删除。

### Q: JSON格式化支持多大的文件？
A: JSON格式化工具支持较大的JSON文件，但建议文件大小不超过10MB，以保证性能。

### Q: 生成的图片在哪里？
A: 生成的条形码和二维码图片保存在服务器的`static_files/img`目录下，可以通过URL直接访问。

### Q: 数据预览弹窗中的长数据如何查看？
A: 数据预览弹窗支持左右滚动查看长数据，同时支持自动换行，确保所有内容都能完整显示。

### Q: UI测试变量助手支持哪些函数？
A: UI测试变量助手支持所有60个工具函数，包括测试数据、随机工具、加密工具、时间工具、字符工具、JSON工具等。

### Q: 生成的身份证号和银行卡号是真实的吗？
A: 生成的身份证号和银行卡号是随机生成的，符合校验规则但不是真实数据，仅用于测试目的。

### Q: 如何批量生成测试数据？
A: 使用随机工具或测试数据工具，设置生成数量参数，执行后保存结果并添加统一标签，即可批量生成测试数据。

### Q: 数据工厂支持哪些加密算法？
A: 数据工厂支持MD5、SHA1、SHA256、SHA512、AES等加密算法，以及HMAC签名算法。

### Q: 如何在接口测试中使用动态函数占位符？
A: 在请求参数、请求体或断言中，使用`${函数名(参数)}`格式的占位符，系统会自动解析并替换为实际值。

### Q: Crontab表达式工具有什么用？
A: Crontab表达式工具可以帮助你生成、解析、验证Crontab定时任务表达式，并计算下次执行时间，适用于定时任务管理。

## 📚 更多资源

- [数据工厂功能说明.md](./数据工厂功能说明.md) - 完整的功能介绍和详细说明
- [数据工厂API接口文档.md](./数据工厂API接口文档.md) - API接口详细文档
- [README.md](../README.md) - 项目整体介绍
- [CHANGELOG.md](./CHANGELOG.md) - 版本更新历史

## 🆘 获取帮助

如有问题或建议，请通过以下方式联系：
- 提交Issue
- 联系系统管理员

## 📅 更新日志

### v1.3.0 (2026-01-26)
- 🐛 修复 JSONPath 解析问题，支持 `..` 操作符（如 `$..args`）
- ✨ 扩展代码生成语言选项，支持 30+ 种编程语言
- ✨ 实现完整的 curl 命令导入功能，支持所有 255 个 curl 参数
- 🐛 修复 cURL 命令导出格式问题
- 🔧 改进代码生成器，使用 curlconverter 库提高准确性
- 🔧 改进 curl 命令解析，正确处理 HAR 格式的 queryString、headers、cookies、postData
- 🐛 解决 npm 依赖冲突，修复 Sass 弃用警告和 WebAssembly 加载错误
- 📝 完善文档说明

---

**更新时间**：2026年1月26日
